<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>You.fyi</title>
  <link rel="stylesheet" href="/ui/style.css" />
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <button class="logo-button">
          <img src="/ui/logo-icon.png" alt="You.FYI" class="logo-icon">
        </button>
        <span style="font-weight: 700; font-size: 18px;">You.FYI</span>
      </div>
      <nav class="main-nav">
        <button id="nav-workspaces" class="nav-item">
          <span class="nav-icon">üè¢</span> Workspaces
        </button>
        <button id="nav-assets" class="nav-item">
          <span class="nav-icon">üìÑ</span> Assets
        </button>
        <button id="nav-kits" class="nav-item">
          <span class="nav-icon">üì¶</span> Kits
        </button>
        <button id="nav-settings" class="nav-item">
          <span class="nav-icon">‚öôÔ∏è</span> Settings
        </button>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="top-bar">
        <h2 id="page-title">Workspaces</h2>
        <div class="user-profile">
          <div class="avatar">I</div>
        </div>
      </header>

      <div class="content-area">

        <!-- Workspaces View -->
        <div id="view-workspaces" class="hidden">
          <div class="card" style="max-width: 800px; padding: 0; overflow: hidden; margin: 0 auto;">
            <div
              style="padding: 16px 24px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: #fff;">
              <h3 style="margin: 0; font-size: 16px; font-weight: 600;">Workspaces</h3>
              <button id="create-ws" class="btn btn-icon" style="color: var(--primary);">
                <span style="font-size: 18px;">+</span>
              </button>
            </div>
            <div id="workspace-list" style="background: white;">
              <!-- Workspaces populated via JS -->
            </div>
          </div>
        </div>

        <!-- Assets View -->
        <div id="view-assets" class="hidden">
          <div class="toolbar">
            <div class="search-bar">
              <span class="search-icon">üîç</span>
              <input type="text" id="search-assets" placeholder="Search assets...">
            </div>
            <div class="actions">
              <button id="add-to-kit-btn" class="btn btn-secondary">Add to Kit</button>
              <button id="share-kit-btn" class="btn btn-secondary">Share</button>
              <button id="btn-new-asset" class="btn btn-primary"><span>+</span> New Asset</button>
            </div>
          </div>

          <!-- Asset Creation Panel -->
          <div id="create-asset-panel" class="card hidden"
            style="margin-bottom: 24px; border: 1px solid var(--primary);">
            <!-- (Content handled by modal now, keeping for legacy compatibility if needed, but hidden) -->
          </div>

          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th width="40"><input type="checkbox" id="select-all-assets"></th>
                  <th>Name</th>
                  <th>Type</th>
                  <th>Date</th>
                  <th width="80">Actions</th>
                </tr>
              </thead>
              <tbody id="asset-list">
                <!-- Assets populated via JS -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- Kits View -->
        <div id="view-kits" class="hidden" style="height: calc(100vh - 100px); display: flex; gap: 24px;">
          <!-- Left: Kit List -->
          <div style="flex: 1; display: flex; flex-direction: column;">
            <div class="toolbar">
              <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" id="search-kits" placeholder="Search kits...">
              </div>
              <div class="actions">
                <button id="create-kit" class="btn btn-primary"><span>+</span> New Kit</button>
              </div>
            </div>
            <div class="table-container" style="flex: 1; overflow-y: auto;">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Internal name</th>
                    <th>Sharing</th>
                    <th>Assets</th>
                    <th>Last modified</th>
                    <th width="40"></th>
                  </tr>
                </thead>
                <tbody id="kit-list">
                  <!-- Kits populated via JS -->
                </tbody>
              </table>
            </div>
          </div>

          <!-- Right: Kit Details Panel -->
          <div id="kit-details-panel" class="card"
            style="width: 400px; display: flex; flex-direction: column; padding: 0; overflow: hidden; border-left: 1px solid var(--border);">
            <div style="padding: 16px; border-bottom: 1px solid var(--border); background: #f8fafc;">
              <h3 id="detail-kit-name" style="margin: 0; font-size: 16px;">Select a Kit</h3>
            </div>

            <div id="kit-details-content" class="hidden" style="flex: 1; overflow-y: auto; padding: 16px;">
              <!-- Properties -->
              <div style="margin-bottom: 24px;">
                <h4
                  style="font-size: 12px; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 8px;">
                  Properties</h4>
                <div class="form-group">
                  <label style="font-size: 12px;">Internal Name</label>
                  <input id="detail-kit-name-input" class="form-control" readonly>
                </div>
              </div>

              <!-- Content -->
              <div style="margin-bottom: 24px;">
                <h4
                  style="font-size: 12px; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 8px;">
                  Content</h4>
                <div class="form-group">
                  <label style="font-size: 12px;">Assets</label>
                  <input id="detail-kit-assets-count" class="form-control" readonly>
                </div>
              </div>

              <!-- RAG / Ask -->
              <div style="margin-top: auto;">
                <h4
                  style="font-size: 12px; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 8px;">
                  Ask AI</h4>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                  <input id="rag-query" class="form-control" placeholder="Ask about this kit..." style="flex: 1;">
                  <button id="run-rag" class="btn btn-primary" style="padding: 0 12px;">Ask</button>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                  <label class="small" style="margin: 0;"><input type="checkbox" id="use-llm" checked /> Use LLM</label>
                  <button id="toggle-quick-actions" class="btn btn-sm btn-secondary" style="font-size: 11px;">Quick
                    Actions <span id="qa-arrow">‚ñº</span></button>
                </div>

                <!-- Quick Actions Menu -->
                <div id="quick-actions-menu" class="card"
                  style="display: none; position: absolute; bottom: 140px; right: 20px; width: 200px; z-index: 100; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                  <div style="display: flex; flex-direction: column; gap: 4px;">
                    <button id="quick-query-summary" class="btn btn-sm btn-ghost" style="text-align: left;">üìù
                      Summarize</button>
                    <button id="quick-query-count" class="btn btn-sm btn-ghost" style="text-align: left;">üî¢ Count
                      Assets</button>
                    <button id="quick-query-types" class="btn btn-sm btn-ghost" style="text-align: left;">üìÇ File
                      Types</button>
                    <button id="quick-query-recent" class="btn btn-sm btn-ghost" style="text-align: left;">üïí Recent
                      Files</button>
                  </div>
                </div>

                <pre id="rag-result" class="small mt-4 hidden"
                  style="background: #f1f5f9; padding: 8px; border-radius: 4px; max-height: 200px; overflow-y: auto; white-space: pre-wrap;"></pre>
              </div>
            </div>

            <div id="kit-details-empty" style="padding: 32px; text-align: center; color: var(--text-secondary);">
              Select a kit from the list to view details and ask questions.
            </div>
          </div>
        </div>

        <!-- Settings View -->
        <div id="view-settings" class="hidden">
          <div class="card" style="max-width: 800px; margin: 0 auto;">
            <h3>Workspace Settings</h3>

            <!-- Slug Settings -->
            <div
              style="margin-top: 24px; padding: 24px; border: 1px solid #fef3c7; background: #fffbeb; border-radius: 8px;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <h4 style="margin: 0; color: #92400e;">Custom Workspace Slug</h4>
                <span class="badge" style="background: #f59e0b; color: white;">Upgrade</span>
              </div>

              <p style="font-size: 13px; color: #92400e; margin-bottom: 16px;">
                Changing your workspace slug may prevent people from accessing kits you've previously shared with them.
              </p>

              <div class="form-group">
                <label for="settings-ws-slug">Workspace slug <span style="color: #ef4444;">*</span></label>
                <div class="input-group">
                  <span class="input-prefix">https://you.fyi/</span>
                  <input id="settings-ws-slug" class="form-control"
                    style="border-radius: 0; border-left: 0; border-right: 0; padding-left: 8px;">
                  <span class="input-suffix">/kit</span>
                </div>
                <p style="font-size: 12px; color: var(--text-secondary); margin-top: 6px;">
                  Your workspace slug is the text that will appear in the You.fyi links you share.
                </p>
              </div>
              <button class="btn btn-secondary" disabled>Save</button>
            </div>

            <!-- Delete Workspace -->
            <div style="margin-top: 32px; border: 1px solid #fee2e2; border-radius: 8px; overflow: hidden;">
              <div style="padding: 16px 24px; background: #fef2f2; border-bottom: 1px solid #fee2e2;">
                <h4 style="margin: 0; color: #b91c1c; font-size: 16px;">Delete Workspace</h4>
              </div>
              <div style="padding: 24px;">
                <p style="font-size: 14px; color: #4b5563; margin-bottom: 16px;">
                  Deleting this workspace will remove all of its users, kits, assets, and content. This action cannot be
                  undone.
                </p>
                <button id="del-ws" class="btn"
                  style="background: #fff; border: 1px solid #ef4444; color: #ef4444;">Delete Workspace</button>
              </div>
            </div>

          </div>
        </div>

      </div>
    </main>
  </div>

  <!-- Modal Dialogs -->

  <!-- Workspace Creation Modal -->
  <div id="modal-create-workspace" class="modal-overlay hidden">
    <div class="modal-dialog" style="max-width: 500px;">
      <div class="modal-header">
        <h3 class="modal-title">Create New Workspace</h3>
        <button class="modal-close" onclick="closeModal('modal-create-workspace')">√ó</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="modal-ws-name">Display name <span style="color: #ef4444;">*</span></label>
          <input id="modal-ws-name" class="form-control" placeholder="">
        </div>
        <div class="form-group">
          <label for="modal-ws-slug">Workspace slug <span style="color: #ef4444;">*</span></label>
          <div class="input-group">
            <span class="input-prefix">https://you.fyi/</span>
            <input id="modal-ws-slug" class="form-control"
              style="border-radius: 0; border-left: 0; border-right: 0; padding-left: 8px;">
            <span class="input-suffix">/kit</span>
          </div>
          <p style="font-size: 12px; color: var(--text-secondary); margin-top: 6px;">
            Your workspace slug is the text that will appear in the You.fyi links you share. You can think of this like
            your workspace's public username.
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('modal-create-workspace')">Cancel</button>
        <button id="modal-create-ws-btn" class="btn btn-primary">Create</button>
      </div>
    </div>
  </div>

  <!-- Asset Creation Modal -->
  <div id="modal-create-asset" class="modal-overlay hidden">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 class="modal-title">Create New Asset</h3>
        <button class="modal-close" onclick="closeModal('modal-create-asset')">√ó</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="modal-asset-type">Type *</label>
          <select id="modal-asset-type" class="form-control">
            <option value="document">Message</option>
            <option value="file">File</option>
            <option value="video">Video</option>
            <option value="website">Website</option>
            <option value="embed">Embed</option>
          </select>
        </div>
        <div class="form-group">
          <label for="modal-asset-name">Name *</label>
          <input id="modal-asset-name" class="form-control" placeholder="Asset name">
        </div>
        <div class="form-group">
          <label for="modal-asset-desc">Description</label>
          <input id="modal-asset-desc" class="form-control" placeholder="Optional description">
        </div>
        <div class="form-group" id="modal-asset-content-group">
          <label for="modal-asset-content">Content</label>
          <textarea id="modal-asset-content" class="form-control" rows="4" placeholder="Enter content..."></textarea>
        </div>
        <div class="form-group hidden" id="modal-asset-file-group">
          <label for="modal-asset-file">Choose File</label>
          <input type="file" id="modal-asset-file" class="form-control">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('modal-create-asset')">Cancel</button>
        <button id="modal-create-asset-btn" class="btn btn-primary">Create</button>
      </div>
    </div>
  </div>

  <!-- Kit Creation Modal -->
  <div id="modal-create-kit" class="modal-overlay hidden">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 class="modal-title">Create New Kit</h3>
        <button class="modal-close" onclick="closeModal('modal-create-kit')">√ó</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="modal-kit-name">Kit Name *</label>
          <input id="modal-kit-name" class="form-control" placeholder="My Kit">
        </div>
        <div class="form-group">
          <label for="modal-kit-desc">Description</label>
          <input id="modal-kit-desc" class="form-control" placeholder="Optional description">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('modal-create-kit')">Cancel</button>
        <button id="modal-create-kit-btn" class="btn btn-primary">Create</button>
      </div>
    </div>
  </div>

  <!-- Sharing Link Modal -->
  <div id="modal-share-link" class="modal-overlay hidden">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 class="modal-title">Sharing Link Created</h3>
        <button class="modal-close" onclick="closeModal('modal-share-link')">√ó</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 12px; color: var(--text-secondary);">Share this link to give others access to your kit:
        </p>
        <div
          style="background: var(--bg-body); padding: 12px; border-radius: var(--radius-md); border: 1px solid var(--border); margin-bottom: 12px;">
          <input id="share-link-input" type="text" readonly class="form-control"
            style="font-family: monospace; font-size: 13px;">
        </div>
        <p style="font-size: 13px; color: var(--text-secondary);">Link expires in 7 days. Click to copy to clipboard.
        </p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('modal-share-link')">Close</button>
        <button id="copy-share-link" class="btn btn-primary">Copy Link</button>
      </div>
    </div>
  </div>

  <div id="toast-container"></div>
  <script src="/ui/app.js"></script>
</body>


</html>
```